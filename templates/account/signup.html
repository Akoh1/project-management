{% extends "base.html" %}

{% block content %}
  <!--Main layout-->
  
    <div class="container">
         
      <div class="row mx-auto">
        <div class="col-md-12 mb-4 text-center wow fadeIn">
        {% if userform.errors %}
            {% for field in userform %}
                {% for error in field.errors %}
                    <div class="alert alert-danger">
                        <strong>{{ error|escape }}</strong>
                    </div>
                {% endfor %}
            {% endfor %}
            {% for error in userform.non_field_errors %}
                <div class="alert alert-danger">
                    <strong>{{ error|escape }}</strong>
                </div>
            {% endfor %}
        {% endif %}

         {% if adminform.errors %}
            {% for field in adminform %}
                {% for error in field.errors %}
                    <div class="alert alert-danger">
                        <strong>{{ error|escape }}</strong>
                    </div>
                {% endfor %}
            {% endfor %}
            {% for error in adminform.non_field_errors %}
                <div class="alert alert-danger">
                    <strong>{{ error|escape }}</strong>
                </div>
            {% endfor %}
        {% endif %}

         {% comment %} {% if adminform.non_field_errors %}
            <div class="alert alert-danger alert-dismissible fade show" role="alert">
            {% for error in adminform.non_field_errors %}
                <p{% if forloop.last %} class="mb-0"{% endif %}>{{ error }}</p>
            {% endfor %}
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
            </div>
        {% endif %} {% endcomment %}

        {% comment %} {% if workform.errors %}
            {% for workfield in workform %}
                {% for workerror in workfield.errors %}
                    <div class="alert alert-danger">
                        <strong>{{ workerror|escape }}</strong>
                    </div>
                {% endfor %}
            {% endfor %}
            {% for workerror in workform.non_field_errors %}
                <div class="alert alert-danger">
                    <strong>{{ workerror|escape }}</strong>
                </div>
            {% endfor %}
        {% endif %} {% endcomment %}
           <!-- Material form register -->
        {% comment %} <div class="row"> {% endcomment %}
            <div class="d-flex flex-row mb-3 justify-content-center">
                <div  id="admin" style="width: 100px; height: 100px; margin: 0px 20px; background-color: rgba(0,0,255,0.1);">
                    <span>Register as a Workplace</span>
                </div>
                <div id="user" style="width: 100px; height: 100px; margin: 0px 20px; background-color: rgba(0,0,255,0.1);">
                    <span>Register as a Single User</span>
                </div>
            </div>
        {% comment %} </div> {% endcomment %}
            <div class="d-flex mb-3 justify-content-center">
                <div id="divworkplace" sytle="display: none;" >
                    <div class="card">
                        <!-- Card body -->
                        <div class="card-body">
                            <h5>Workplace form </h6>
                            <form method="POST">
                                {% csrf_token %}
                             <p class="h4 text-center py-4">Sign up and create a Workplace</p>
                                {% for field in adminform %}
                                    <div class="fieldWrapper">

                                    <div class="form-group">
                                    <label>{{ field.label_tag }}</label>
                                    {{ field }}
                                        {{ field.errors }}
                                        </div>
                                        {% if field.help_text %}
                                        <p class="help">{{ field.help_text|safe }}</p>
                                        {% endif %}
                                    </div>
                                {% endfor %}
                                <button type="submit">Register</button>
                            </form>
                        </div>
                    </div>
                </div>

                <div id="userplace" sytle="display: none;" >
                    <div class="card">
                        <!-- Card body -->
                        <div class="card-body">
                            <h5>Single User form </h6>
                            <form method="POST">
                                {% csrf_token %}
                             <p class="h4 text-center py-4">Sign up as a single user</p>
                                {% for field in userform %}
                                    <div class="fieldWrapper">

                                    <div class="form-group">
                                    <label>{{ field.label_tag }}</label>
                                    {{ field }}
                                        {{ field.errors }}
                                        </div>
                                        {% if field.help_text %}
                                        <p class="help">{{ field.help_text|safe }}</p>
                                        {% endif %}
                                    </div>
                                {% endfor %}
                                <button type="submit">Register</button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
      </div>

    </div>

  <!--Main layout-->
<script type="text/javascript">
  var divworkplace = document.getElementById("divworkplace");
  var userplace = document.getElementById("userplace");
  const btn = document.querySelector('#admin');
  const userbtn = document.querySelector('#user');
  var passerror = document.querySelector('#passerror');
  {% comment %} const rbs = document.querySelectorAll('input[name="form-check-input"]'); {% endcomment %}
    {% comment %} if(btn.checked) {
        divworkplace.style.display = "block";  
    }  {% endcomment %}
    divworkplace.style.display = "none";
    userplace.style.display = "none";
    btn.addEventListener("click", function(){
        divworkplace.style.display = "block";
        userplace.style.display = "none";
        console.log("work");
    });
    userbtn.addEventListener("click", function() {
        divworkplace.style.display = "none";
        userplace.style.display = "block";
        console.log("user");
    });

  {% comment %} function checkForm(form)
  {
  
    if(form.pwd1.value == "" || form.pwd1.value != form.pwd2.value) {
        passerror.style.display = "block";
        passerror.style.color = 'red';
        console.log("test")
        form.pwd1.focus();
        return false;
      
    } 
    return true;
  } {% endcomment %}

</script>

{% endblock %}